<html>
	<head>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.2/angular.min.js"></script>
		<link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
		<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
		
		<script type="text/javascript">
			var todo = angular.module('todo', [])
			.controller('todoctrl', ['$scope', function ($scope){
				$scope.title = 'My Todo List';
				
				$scope.tasks = [];
				$scope.archives = [];
				
				$scope.add_task = function(){
					$scope.tasks.push(
						{
							'title' : $scope.todo_lb,
							'done'  : false
						});
					$scope.todo_lb = '';
				}
				
				$scope.archiver = function(data){
					if(!data){
						return;
					}
					
					data.done = true;
					$scope.archives.push(data);
				}
				
				$scope.supprimer_tache = function(index){
					if(index < 0){
						return;
					}
					$scope.tasks.splice(index,1);
					
				}
				
				$scope.delete_all_tasks = function(){
					$scope.tasks = [];
				}
			}]);
		</script>
	</head>
	<body ng-app="todo">
		<div ng-controller="todoctrl" class="MyTodo col-md-3 col-md-offset-5">
			
				<h1>{{title}}</h1>
				<ul class="todos list-group" ng-repeat="task in tasks">
					<li ng-if="!task.done" class="list-group-item" ng-click="archiver(task)">{{task.title}}</li>
				</ul>
			<form role="form">
				<div class="form-group">
					<input type="text" class="form-control" ng-model="todo_lb"/>
				</div>
				<button class="btn btn-default" ng-click="add_task()">Ajouter</button>
				<button class="btn btn-default" ng-click="delete_all_tasks()">Vider</button>
			</form>
			<H1>Archive :</H1>
			<ul class="todos list-group" ng-repeat="task in tasks">
				<li ng-click="supprimer_tache($index)" ng-if="task.done" class="list-group-item disabled"><span class="glyphicon glyphicon-star"></span>{{task.title}}</li>
			</ul>
		</div>
	</body>
</html>